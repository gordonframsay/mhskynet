<html>
  <head>
    <style>
      body,html {
        margin:0;
        padding:0;
      }
      canvas {
        background-color: black;
      }
    </style>
  </head>
  <body>
    <canvas></canvas>
  </body>
  <script>
 function m_set_dist_two(cx, cy) {
   var max_iter = 100;
   var xorbit = new Array(max_iter + 1);
   var yorbit = new Array(max_iter + 1);
   var dist = 0.0;
   var temp = 0.0;
   var x = 0.0;
   xorbit[0] = 0.0; 
   yorbit[0] = 0.0; 
   var huge = 1000.0;
   var yder = 0.0;
   var xder = 0.0;
   var x2 = 0.0;
   var y2 = 0.0;
   var y = 0.0;
   var x = 0.0;
   var iter = 1;
   var overflow =  1.0e100;
   while ((iter < max_iter) && ((x2+y2) < huge)) {
    temp = x2 - y2 + cx;
    y = 2.0 * x * y + cy;
    x = temp;
    x2 = x*x;
    y2 = y*y;
    xorbit[iter] = x;
    yorbit[iter] = y;
    iter += 1;
   }
   var flag = false;
   if ( (x2+y2) > huge ) {
    var i = 0;
    while ( ( i < iter ) && (! flag) ) {
     temp = 2.0 * (xorbit[i] * xder - yorbit[i] * yder + 1.0);
     yder = 2.0 * (yorbit[i] * xder + xorbit[i] * yder);
     xder = temp;
     flag = Math.max(Math.abs(xder),Math.abs(yder)) > overflow;
     i += 1;
    }
    if (! flag) {
     dist = Math.log(x2+y2)*Math.sqrt(x2+y2)/Math.sqrt(xder*xder+yder*yder);
    }
   }
  return dist;
 }



   function m_set_dist(cx,cy) {
    var maxiter = 100;
    var xorbit = new Array(maxiter);
    var yorbit = new Array(maxiter);
    var overflow =  1.0e100;

    var x = 0.0;
    var y = 0.0;
    var x2 = 0.0;
    var y2 = 0.0;
    var dist = 0.0;
    xorbit[0] = 0.0;
    yorbit[0] = 0.0;
    var iter = 0;
    var huge = 100000.0;
    while (iter < maxiter) {
     var temp = x2 - y2 + cx;
     y = (2.0 * x * y) + cy;
     x = temp;
     x2 = x * x;
     y2 = y * y;
     xorbit[iter] = x;
     yorbit[iter] = y;
     iter++;
    }
    if ((x2 + y2) > huge) {
     var xder = 0.0;
     var yder = 0.0;
     var i = 0;
     var flag = false;
     while ((i < iter) && (! flag)) {
      var temp = 2.0 * (xorbit[i] * xder - yorbit[i] * yder + 1.0);
      yder = 2.0 * (yorbit[i] * xder + xorbit[i] * yder);
      xder = temp;
      flag = Math.max(Math.abs(xder), Math.abs(yder)) > overflow;
      i++;
     }
     if (! flag) {
      dist = (Math.log(x2 + y2) * Math.sqrt(x2 + y2)) / Math.sqrt((xder * yder) + (yder * yder));
     }
    }
    return dist;
   }

  function draw_m() {
   var canvas = document.querySelector('canvas');
   var ctx = canvas.getContext('2d');
   canvas.width = window.innerWidth;
   canvas.height = window.innerHeight;
   var width = canvas.width;
   var height = canvas.height;
   for (var x = 0; x < width; x++) {
    for (var y = 0; y < height; y++) {
     var dist = m_set_dist_two(((x / canvas.width) * 3) - 2, (y / canvas.height) * 2 - 1)
     if (dist > 0) {
      ctx.fillStyle = 'rgb(0,0,0)';
     } else {
      ctx.fillStyle = 'rgb(255,255,255)';
     }
     ctx.fillRect(x, y, 1, 1);
    }
   }
  }

  draw_m();

  </script>
</html>
